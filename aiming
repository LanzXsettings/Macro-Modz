detect_game() {
  if pm list packages | grep -q com.dts.freefireth; then
    com.dts.freefireth
  elif pm list packages | grep -q com.dts.freefiremax; then
    com.dts.freefiremax
  else
    echo " Game Not Installed "
  fi

com.dts.freefireth() {

{
unzip /sdcard/vortex/bin/DataConfig1 -d /sdcard/Android/data/
cmd game downscale 1.8 com.dts.freefireth
cmd package compile -m speed --secondary-dex com.dts.freefireth
cmd appops set com.dts.freefireth RUN_IN_BACKGROUND
setprop debug.hwui.renderer skiagl
dumpsys deviceidle force-idle
cmd looper_stats disable
}

com.dts.freefireth() }


com.dts.freefiremax() {

{
unzip /sdcard/vortex/bin/DataConfig -d /sdcard/Android/data/
cmd game downscale 1.8 com.dts.freefiremax
cmd package compile -m speed --secondary-dex com.dts.freefiremax
cmd appops set com.dts.freefiretmax RUN_IN_BACKGROUND
setprop debug.hwui.renderer skiagl
dumpsys deviceidle force-idle
cmd looper_stats disable
}

com.dts.freefiremax() }


dumpsys deviceidle whitelist +com.dts.freefireth> /dev/null 2>&1
dumpsys deviceidle whitelist +com.dts.freefiremax> /dev/null 2>&1
setprop false debug.egl.force_msaa> /dev/null 2>&1
setprop false debug.egl.force_fxaa> /dev/null 2>&1
setprop false debug.egl.force_taa> /dev/null 2>&1
setprop false debug.egl.force_smaa> /dev/null 2>&1
setprop 3000 debug.slow_query_threshold> /dev/null 2>&1
setprop true debug.hwui.skip_empty_damage> /dev/null 2>&1
setprop true debug.hwui.capture_skp_enabled> /dev/null 2>&1
setprop 2 debug.hwui.capture_skp_frames> /dev/null 2>&1
cmd device_config put touchscreen input_drag_min_switch_speed 400> /dev/null 2>&1
settings put secure long_press_timeout 120 > /dev/null 2>&1
settings put secure multi_press_timeout 120 > /dev/null 2>&1

fps_calibration() {
frame_cycle=$(echo "scale=10; 1 / $fps" | bc)
frame_cycle_ns=$(printf "%.0f" $(echo "$frame_cycle * 1000000000" | bc | cut -d'.' -f1))
phase_offset_ns=$(printf "%.0f" $(echo "$frame_cycle_ns / 4" | bc))
setprop debug.sf.high_fps_early_gl_phase_offset_ns "$phase_offset_ns"
setprop debug.sf.high_fps_early_phase_offset_ns "$phase_offset_ns"
setprop debug.sf.high_fps_late_app_phase_offset_ns "$phase_offset_ns"
setprop debug.sf.high_fps_late_sf_phase_offset_ns "$phase_offset_ns"
}> /dev/null

external_exe() {
x1=$(expr $RANDOM % 1000 + 1)
y1=$(expr $RANDOM % 1000 + 1)
x2=$(expr $RANDOM % 1000 + 1)
y2=$(expr $RANDOM % 1000 + 1)
duration=$(expr $RANDOM % 1000 + 500)
swipe_command="input swipe $x1 $y1 $x2 $y2 $duration -1"
$swipe_command
}
aim_tracking_opt() {
  local coordinate=$1
  if [ $coordinate -lt 0 ]; then
    coordinate=0
  elif [ $coordinate -gt 1000 ]; then 
    coordinate=1000
  fi
  echo $coordinate
}
sensi_calibrar() {
  local x=$(expr $RANDOM % 1000 + 1)
  local y=$(expr $RANDOM % 1000 + 1)
  local duration=$(expr $RANDOM % 1000 + 500)

  external_exe swipe $(aim_tracking_opt $x) $(aim_tracking_opt $y) 2000 2000 $duration
  external_exe swipe $(aim_tracking_opt $x) $(aim_tracking_opt $y) 2000 0 $duration
  external_exe swipe $(aim_tracking_opt $x) $(aim_tracking_opt $y) 0 2000 $duration 
  external_exe swipe $(aim_tracking_opt $x) $(aim_tracking_opt $y) 0 0 $duration

  external_exe swipe $(aim_tracking_opt $x) $(aim_tracking_opt $y) 2000 2000 $duration
  external_exe swipe $(aim_tracking_opt $x) $(aim_tracking_opt $y) 0 2000 $duration
}
external_exe
sensi_calibrar
sh /sdcard/vortex/bin/HZConfig> /dev/null 2>&1
sh /sdcard/Android/media/com.whatsapp/.tmp/resource_real/dpi >/dev/null 2>&1 &